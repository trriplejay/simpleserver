# Language setting
language: node_js

# Version number
node_js:
  - 6.11.0

env:
  - item=1
  - item=2
  - item=3
  - item=4
  - item=5
  - item=6
  - item=7
  - item=8

build:
  advancedReporting: true
  ci:
    - result=$(($RANDOM % 20))
    - echo "item is $item"
    - echo "rolled a $result"
    - cp coverageResults/coverage.xml shippable/codecoverage/coverage.xml
    - mkdir -p shippable/codecoverage/target/site/jacoco
    - wget -O shippable/codecoverage/target/site/jacoco/jacoco.xml https://gist.githubusercontent.com/trriplejay/3736ca5699e4b957e0e1f462217f586f/raw/7927e2558e21b15e612976539a954bfa26ca35ec/advancedCoverage.xml
    - if [ "$result" -gt 5 ]; then cp testResults/junit.xml shippable/testresults/junit.xml; fi
    - if [ "$result" -lt 6 ]; then cp testResults/nosetests.xml shippable/testresults/nosetests.xml; fi